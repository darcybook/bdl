---
title: "5.类型转换"
weight: 5
date: 2023-07-19T16:14:00+08:00
lastmod: 2023-07-19T16:14:00+08:00
tags: ["type conversion"]
categories: ["type conversion"]
# bookComments: false
# bookSearchExclude: false
---

# 类型转换

前面章节中大家已经廖家，整数和浮点数在计算机中表示方法不同，占据的内存空间大小也有所不同。

如果某下时候，需要将一个integer类型数据存储到decimal类型变量中。此时就需要进行转换。这种不同类型的数据进行转换就称作类型转换。

## 自动转换

BDL中为了使编程简单，几乎所有数据类型都可以自动转换。
例如你可以写这种代码

```sql
    define a integer
    let a = "12345.23"
```
字符串将自动转为整数12345，同样，整数也会自动转为字符串。

>不过要注意之前我们说`using`的时候，数值类型转字符串会自动补空格。

但是如果我们要是一个无法理解的内容，会如何自动转换呢？

```sql
    define a integer
    let a = "你好"
```

如果你在debug中查看会发现a的值会变为`null`，如果非法值转换，所有变量都会变为null，这将丢失之前变量的值!

### 哪些情况会自动转换呢

1. 赋值

无论是`let`还是`returning`都会自动转换为目的变量类型

2. 传参

参数部分后续会详细讲，`sfmt("%1",1)`这个函数中`"%1`和`1`就叫做参数，`1`会自动转为字符串。

3. SQL语句

```sql
select ima01 from ima_file
where ima01 = 2234
```
SQL语句后续会详细讲，这里先知道有印象就好

4. 字符串拼接

字符串可以用两种方式凭借`,`和`||`，这两种方式都会自动转为字符串
