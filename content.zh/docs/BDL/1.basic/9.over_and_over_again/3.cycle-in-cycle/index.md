---
title: "3.循环嵌套"
weight: 3
date: 2023-07-20T08:53:09+08:00
lastmod: 2023-07-20T08:53:09+08:00
tags: ["cycle"]
categories: ["cycle"]
# bookComments: false
# bookSearchExclude: false
---

# 循环嵌套

循环结构也支持嵌套，如果把简单的循环内容为“一遍又一遍”，那循环嵌套便可称为“一层又一层，一遍又一遍”。

可以用始终来打比方，走一个代表执行一次循环，那么一小时里，分针又要走60个格，而分针每走一格，秒针也要走60格。

如此，秒针的走动可以看成是内存循环，而分针的走动可看成是外层循环。

## 嵌套示例

已for循环结构举例，限制想在屏幕上输出4*9个星号，这可以利用双重循环来做：

```sql
    define i,j integer
    define s string
    display ""
    for i = 1 to 4
        let s = ""
        for j = 1 to 9
            let s = s, "*  "
        end for
        display s
    end for
```
输出结果为：
```
*  *  *  *  *  *  *  *  *
*  *  *  *  *  *  *  *  *
*  *  *  *  *  *  *  *  *
*  *  *  *  *  *  *  *  *
```

**代码解析**

上述代码中，采用双重循环来画出上述图形，第1层循环控制行，循环变量是i,从1循环到4，第2层循环控制列，循环变量是j，从1循环到9，输出“星号+两个空格”。

初始时，i=1,满足外层循环条件i<=4，进人循环体，进入第一层循环体时，我们初始化变量字符串s，因为我们需要一个字符串保存每一行我们要输出的内容，否则输出的内容将自动换行，其循环体是由内层循环for结构和换行语句组成，内层循环开始执行，将9个星号都拼接到s字符串中，这和求和类似，当完成内循环，我们diplay处字符串的值；此时，转到执行外部循环体的自动变量增加，开始新一轮外层循环，以此类推，输出了4*9个星号图案。

对循环控制结构来说，不仅可以双重嵌套，还可做到三重、四重甚至更多层次的嵌套，顺序、分支和循环3种结构互相搭配，组成的算法形式也各种各样，这为开发人员提供了极大的自由空间。


## 嵌套的效率


在循环嵌套中，程序流程需要在内层循环和外层循环间跳转，每次跳转都要付出一定的开销，这体现在对CPU和内存的调度和占用上(具体涉及体系结构方面的知识，本书不再展开
述)。

因此，在编程时应有意识地考虑嵌套的效率问题。
在多重循环中，如果有可能，一般将重复次数多的循环放在里层，循环次数少的循环放在外层，以减少内外层循环切换的次数，提高程序的效率。
